<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard - Opening Hours edit</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
</head>
<body>
    <h1>Manager Store Info Edit</h1>
    <a href="#" data-th-href="@{/dashboard/storeinfo}">Back</a><br><br>

    <h2>Store cap</h2>
    <form action="storeinfoedit" method="post">
        <fieldset>
            <label>Store cap
                <input type="number" name="storeCap" value="123" data-th-value="${storeCap}" required></label><br>
            <input type="submit" value="Update">
        </fieldset>
    </form>

    <br>

    <h2>Opening hours</h2>
    <form action="ohedit" method="post">
        <fieldset>
            <legend>Opening Hours</legend>

            <div data-th-each="ohday : ${openingHourMap}">
                <label>
                    <input type="checkbox" name="day[]" data-th-value="${ohday.key}" data-th-checked="${not #lists.isEmpty(ohday.value)}">
                    <strong data-th-text="${ohday.key}">Day of week</strong>
                </label>
                <br>

                <div data-th-if="${#lists.isEmpty(ohday.value)}" data-th-each="i : ${#numbers.sequence(1, 2)}">
                    <label>
                        From:
                        <input type="time" name="from" step="1" data-th-name="${ohday.key + '-from-' + i}">
                    </label>
                    <label>
                        To:
                        <input type="time" name="to" step="1" data-th-name="${ohday.key + '-to-' + i}">
                    </label>
                    <br>
                </div>

                <div data-th-unless="${#lists.isEmpty(ohday.value)}" data-th-each="ohtime, iterStat : ${ohday.value}">
                    <label>
                        From:
                        <input type="time" name="from" step="1" data-th-name="${ohday.key + '-from-' + iterStat.count}" data-th-value="${ohtime.fromTime}">
                    </label>
                    <label>
                        To:
                        <input type="time" name="to" step="1" data-th-name="${ohday.key + '-to-' + iterStat.count}" data-th-value="${ohtime.toTime}">
                    </label>
                    <br>
                </div>

                <div data-th-if="${#lists.size(ohday.value) == 1}">
                    <label>
                        From:
                        <input type="time" name="from" step="1" data-th-name="${ohday.key + '-from-2'}">
                    </label>
                    <label>
                        To:
                        <input type="time" name="to" step="1" data-th-name="${ohday.key + '-to-2'}">
                    </label>
                    <br>
                </div>
            </div>

            <br>
            <input type="submit" value="Update">

        </fieldset>
    </form>

</body>
</html>